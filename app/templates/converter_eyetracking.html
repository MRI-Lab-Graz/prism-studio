                <!-- Eyetracking Panel -->
                <div class="tab-pane fade" id="eyetracking-panel" role="tabpanel" aria-labelledby="eyetracking-tab">
                    <div class="card border-0 shadow-sm">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <div class="bg-warning bg-opacity-10 rounded-circle p-3 me-3">
                                    <i class="fas fa-eye fa-2x text-warning"></i>
                                </div>
                                <div>
                                    <h5 class="mb-1">Eyetracking Data Conversion</h5>
                                    <p class="text-muted mb-0">Convert SR Research EyeLink recordings (.edf) to PRISM format</p>
                                </div>
                            </div>

                            <!-- Sub-tabs for single vs batch -->
                            <ul class="nav nav-tabs nav-sm mb-3" id="eyetrackingSubTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="eyetracking-single-tab" data-bs-toggle="tab" data-bs-target="#eyetracking-single" type="button" role="tab">
                                        <i class="fas fa-file me-1"></i>Single File
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="eyetracking-batch-tab" data-bs-toggle="tab" data-bs-target="#eyetracking-batch" type="button" role="tab">
                                        <i class="fas fa-folder-open me-1"></i>Batch (Multiple Files)
                                    </button>
                                </li>
                            </ul>

                            <div class="tab-content" id="eyetrackingSubTabContent">
                                <!-- Single File -->
                                <div class="tab-pane fade show active" id="eyetracking-single" role="tabpanel">
                                    <div class="row g-3 align-items-end">
                                        <div class="col-md-4">
                                            <label for="eyetrackingSingleFile" class="form-label">EyeLink Recording (.edf)</label>
                                            <input class="form-control" type="file" id="eyetrackingSingleFile" accept=".edf">
                                        </div>
                                        <div class="col-md-2">
                                            <label for="eyetrackingSubject" class="form-label">Subject ID</label>
                                            <input type="text" class="form-control" id="eyetrackingSubject" placeholder="e.g. 001">
                                        </div>
                                        <div class="col-md-2">
                                            <label for="eyetrackingSession" class="form-label">Session (optional)</label>
                                            <input type="text" class="form-control" id="eyetrackingSession" placeholder="e.g. 1">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="eyetrackingTask" class="form-label">Task Name</label>
                                            <input type="text" class="form-control" id="eyetrackingTask" value="gaze" placeholder="e.g. antisaccade">
                                        </div>
                                        <div class="col-md-4">
                                            <button class="btn btn-warning w-100" type="button" id="eyetrackingSingleConvertBtn" disabled>
                                                <i class="fas fa-wand-magic-sparkles me-2"></i>Convert
                                            </button>
                                        </div>
                                    </div>
                                    <div id="eyetrackingSingleError" class="alert alert-danger d-none mt-3"></div>
                                    <div id="eyetrackingSingleInfo" class="alert alert-info d-none mt-3"></div>
                                </div>

                                <!-- Batch -->
                                <div class="tab-pane fade" id="eyetracking-batch" role="tabpanel">
                                    <div class="alert alert-light border mb-3">
                                        <i class="fas fa-info-circle me-2 text-info"></i>
                                        <strong>File naming required:</strong> <code>sub-XXX_ses-YYY_task-ZZZ.edf</code>
                                        <br><small class="text-muted">Example: <code>sub-003_ses-1_task-antisaccade.edf</code> Â· Session is optional</small>
                                    </div>
                                    <div class="row g-3 align-items-end">
                                        <div class="col-md-6">
                                            <label for="eyetrackingBatchFiles" class="form-label">Select EDF Files</label>
                                            <input class="form-control" type="file" id="eyetrackingBatchFiles" accept=".edf" multiple>
                                            <small class="text-muted">Select all files (Ctrl+A / Cmd+A)</small>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="eyetrackingBatchDatasetName" class="form-label">Dataset Name</label>
                                            <input type="text" class="form-control" id="eyetrackingBatchDatasetName" value="Eyetracking Dataset">
                                        </div>
                                        <div class="col-md-3">
                                            <button class="btn btn-warning w-100" type="button" id="eyetrackingBatchConvertBtn" disabled>
                                                <i class="fas fa-wand-magic-sparkles me-2"></i>Convert All & Download
                                            </button>
                                        </div>
                                    </div>
                                    <div id="eyetrackingBatchError" class="alert alert-danger d-none mt-3"></div>
                                    <div id="eyetrackingBatchInfo" class="alert alert-info d-none mt-3"></div>
                                    <div id="eyetrackingBatchProgress" class="progress d-none mt-3" style="height: 25px;">
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" style="width: 100%">Converting...</div>
                                    </div>
                                    <!-- Log Window -->
                                    <div id="eyetrackingBatchLogContainer" class="d-none mt-3">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <label class="form-label mb-0"><i class="fas fa-terminal me-2"></i>Conversion Log</label>
                                            <button type="button" class="btn btn-sm btn-outline-secondary" id="eyetrackingBatchLogClearBtn">
                                                <i class="fas fa-trash-alt me-1"></i>Clear
                                            </button>
                                        </div>
                                        <div id="eyetrackingBatchLog" class="bg-dark text-light p-3 rounded font-monospace" 
                                             style="height: 200px; overflow-y: auto; font-size: 0.85rem; white-space: pre-wrap;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

